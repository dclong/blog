Status: published
Date: 2014-09-26 10:58:44
Author: Ben Chuanlong Du
Slug: chat-with-yifan-on-wechat
Title: 和帆兄的一次聊天
Category: Tech 
Tags: tech, IT, chat, WeChat, friend, Yifan Yang

这是一次思想火花四射的聊天，信息含量极为丰富。不是所有的人都用微信来把妹的。

The latest chat history for "yifan" and "莫等闲" including text and images is shown below.

————— 2014-08-23 —————

莫等闲 22:18

帆兄，有空吗

杨一帆 22:19

有啊

莫等闲 22:19

能不能问你几个关于python的问题？

杨一帆 22:20

好的啊。

莫等闲 22:23

1. 我有个Python程序，有点长，想分拆成小文件，但是有点不好分拆。感觉上有些函数类别模糊。不知道你写python module的时候是如何组织代码的？还有一个相关的问题是，我发现我很少用python class，基本就是裸用module。关于module和class，你有什么评论吗？

莫等闲 22:25

要是打字累的话，咱skype?

杨一帆 22:26

打字吧～清楚

莫等闲 22:27

hao

杨一帆 22:32

module应该就是很多class的集合所以没有更简单的方式。至于名字，和java很类似罢了。module类似于名字空间同时也是个py文件，所以你要说管理，一个好的ide或者更加有用些。大约简单做的话。就是将模块集合成包，通过__init

杨一帆 22:32

管理

莫等闲 22:35

在我看来，class可以用sub module来模拟替代

莫等闲 22:35

使用class的优势是什么呢？

杨一帆 22:35

这么说是差不多。只要module还是一个py文件

杨一帆 22:35

名字空间里的细枝末节

莫等闲 22:38

想必大家写python程序就图个快，所以一开始很多东西都不会设计的很好。我现在的问题是，一个.py文件包含了我所有的代码。这样不方便管理，尤其是version control不方便。我想吧代码拆分，但是感觉上有些动写界限不明。不知道你在这方面是怎么做的？

莫等闲 22:38

不想把所有的东西推到重来

杨一帆 22:40

我一般一开始就写一堆小文件…不然改起来太痛苦了

莫等闲 22:41

恩，习惯很重要。

杨一帆 22:41

rad的话，其实无所谓的

莫等闲 22:41

什么是rad?

杨一帆 22:41

因为diff工具还是足够好用，不过看起来真的晕死

杨一帆 22:42

快速开发

莫等闲 22:42

恩，用python就是图个简单，快

杨一帆 22:42

我们一般写小程序

杨一帆 22:42

所以大规模的没有太多经验

杨一帆 22:43

但一般都是最后写成包

莫等闲 22:43

我的也是一开始比较小，慢慢就变大了

莫等闲 22:44

关键我在不同的电脑上工作，有时候会在不同的电脑上改动程序。

莫等闲 22:44

如果只有一个文件的话，那么每次都要手动merge

杨一帆 22:44

github之类的

莫等闲 22:45

我一直用github或者bitbucket

杨一帆 22:45

你就算是多个也要merge。

莫等闲 22:45

哦，说错了。出现confliction的概率太大了

莫等闲 22:45

除非说你每次做一点点改动，立马commit, push

莫等闲 22:46

然收下次在另外一台电脑上先pull

杨一帆 22:46

哦，我就这么干的

莫等闲 22:46

好吧

杨一帆 22:46

不过我那自己弄的svn

杨一帆 22:46

一个原理

莫等闲 22:46

要是多个小文件，出现confliction的概率就很小了

杨一帆 22:46

但是如果有也很悲剧

杨一帆 22:46

因为文件一多记不住

杨一帆 22:47

多个分支一个人hold不住

莫等闲 22:47

一个坑跳到另外一个坑？

莫等闲 22:47

哈哈，我原来一直是用一个branch

杨一帆 22:48

大约不时常commit就是坑自己

莫等闲 22:48

后来因为程序使用太频繁，而且有时候改动没法一次成型，才慢慢使用多个branch

莫等闲 22:49

恩，我跟你差不多，就是每次改动commit, push 然收下次pull

莫等闲 22:50

为了防止自己忘记，所有version control的repository都在一个主目录下，然后我写了一个python代码，帮我检查那个repository有了改动，或者commit了之后忘了push

杨一帆 22:50

我大约出很多个版本的，但实际发展方向只有一个。

————— 2014-08-23 —————

杨一帆 22:50

哦，我懒得弄，用的gui

莫等闲 22:51

我也是，master主要是我的production vesion

莫等闲 22:51

其他的分支主要是develop feature，这样保证我自己始终有个可用的分支

莫等闲 22:51

一旦merge，没用的分支立马删除

杨一帆 22:52

因为我最大的也不过是一个二十多文件的项目，基本用不到太高深的项目管理。

杨一帆 22:52

git什么的主要是为了协作

莫等闲 22:52

git对于我而言就是个多电脑工作的工具

杨一帆 22:52

自己使用版本控制我觉得简单就好

莫等闲 22:53

很少和人协作代码，主要是自己在不同电脑上都能随时写代码

杨一帆 22:53

我计算机环境复杂…centos ubuntu windows还有mac…

杨一帆 22:54

git当然用了。但我大部分用的svn

莫等闲 22:54

我现在主要是LMDE和xubuntu

莫等闲 22:54

还有公司的Windows

杨一帆 22:54

因为server自己搭配

莫等闲 22:54

你好能折腾

莫等闲 22:55

我现在终于达到不花太多时间折腾Linux的境地了

莫等闲 22:56

主要是我有一个很完整的配置文件

杨一帆 22:56

我都折腾好了

莫等闲 22:56

恩，干活是目的

杨一帆 22:56

我centos有四台服务器…所以脚本什么早就弄好了

莫等闲 22:57

牛

莫等闲 22:58

另外再问你一个关于python的问题吧

杨一帆 22:58

你现在对python感兴趣了，挺好啊。功能强大的东西。

莫等闲 22:59

在R里面我们有一个install.packages函数帮我们在R内部安装package，而不是通过 apt-get 或者其他类似工具安装package

莫等闲 22:59

Julia也类似

杨一帆 22:59

easy_install

杨一帆 22:59

Pip

莫等闲 23:00

网上推荐pip，但是pip也是外部命令行形式的吧？

杨一帆 23:00

不过其实不靠谱

杨一帆 23:00

python适合编译安装。

莫等闲 23:00

好像还需要sudo权限？

杨一帆 23:00

不见得，看你怎么装的python了

杨一帆 23:01

shbabg和path配置

莫等闲 23:01

shbabg是个什么玩意儿？

杨一帆 23:01

shbang写错啦

莫等闲 23:01

你说shabang?

莫等闲 23:02

编译安装不是浪费生命吗/

杨一帆 23:02

还好。因为我好多安不上…

莫等闲 23:03

R这方面就好很多, install.packages直接装到自己的local lib就好了

杨一帆 23:03

对的

杨一帆 23:03

实际也是外部命令

莫等闲 23:04

但是不用折腾

莫等闲 23:04

python在Linux上不错

莫等闲 23:04

Windows上好折腾

杨一帆 23:04

对的

莫等闲 23:04

而且有些包也安装不上

杨一帆 23:04

mac上最折腾

莫等闲 23:04

太坑了

杨一帆 23:04

主要是pyqt的东西

杨一帆 23:04

mpi的东西

————— 2014-08-23 —————

莫等闲 23:04

幸好我每跳mac这个坑

杨一帆 23:05

准确的是bsd的都那样

杨一帆 23:05

windows你就pythonxy好了

莫等闲 23:05

对bsd没什么研究

杨一帆 23:06

不然折腾起来太烦人了

莫等闲 23:07

哦，没试过，估计公司内部没有这个东西

莫等闲 23:07

我在公司的电脑上折腾了一些程序，因为没有权限，也无法找admin

莫等闲 23:07

只好去公司内部网上下载approved的程序安装

莫等闲 23:08

或者使用portable version

杨一帆 23:08

那就挺烦人的。你们应该有it support

莫等闲 23:08

呵呵～没人愿意走那一套流程

莫等闲 23:09

估计还得跟你积极歪歪，

杨一帆 23:09

你看下pythonxy吧，大约能有的都有了

杨一帆 23:09

但是我的确不知道能不能portable

莫等闲 23:09

恩，要是要portable 的就爽了

莫等闲 23:10

你知道PortableApps吗？

杨一帆 23:10

是什么？

莫等闲 23:11

http://portableapps.com/

莫等闲 23:12

还有一个兼容的中文网站

莫等闲 23:12

http://www.portableappc.com/

莫等闲 23:12

我用的QQ都是portable版本的

杨一帆 23:12

我除了系里必须sas否则我是不想用win的

莫等闲 23:12

在虚拟机上用

莫等闲 23:13

QQ你知道的

杨一帆 23:13

好吧…

杨一帆 23:13

mac下唯一好处是bsd unix还有那么多gui。

莫等闲 23:14

主要是market share还有一席之地

莫等闲 23:14

目前看来Windows OS有走弱的趋势

莫等闲 23:14

希望Linux能抓住这个好机会

杨一帆 23:14

是啊

莫等闲 23:15

国内不是都禁止政府机构使用Windows 8了吗

杨一帆 23:15

不过我习惯了centos这种万年不变的东西了

杨一帆 23:15

用win7

莫等闲 23:15

呵呵～好吧，总不能一辈子用win7

莫等闲 23:16

我觉得国内政府是想推自己的系统和软件

杨一帆 23:16

国内有基于linux做东西。办公完全没有问题

莫等闲 23:16

我赞同

杨一帆 23:16

哦，改的unix

杨一帆 23:16

也不是推倒重来

莫等闲 23:16

其实我觉得国人完全没有必要去重写OS

杨一帆 23:16

linux会有版权问题

杨一帆 23:17

所以基于的unix

莫等闲 23:17

Debian呢？

莫等闲 23:17

主要是开发的软件的版权问题？

杨一帆 23:18

gpl你懂的

莫等闲 23:18

癌症

莫等闲 23:18

哈哈~要不是GPL linux怎么可能那么快发展壮大

杨一帆 23:19

哪个政府也不敢用gpl啊，这玩笑会开大了的

莫等闲 23:19

我很喜欢Debian严格的开源标准，就是美化不够好，所以用LMDE

莫等闲 23:20

用gpl所有的工作都是gpl的？

————— 2014-08-23 —————

杨一帆 23:20

我用的centos就一个字：丑

杨一帆 23:20

gpl有传染性

莫等闲 23:20

话说你不嫌centos老

杨一帆 23:20

代码必须公开风险太大了

莫等闲 23:21

最近好像跟新了

杨一帆 23:21

gpl3啊…就不说脏话了。

莫等闲 23:22

嗨，如果gpl对政府机构开个后门是不是会更壮大一些？

杨一帆 23:22

现在mit bsd和apach多

杨一帆 23:22

不可能会有开后门的事情啊

莫等闲 23:22

协议都是人定的

莫等闲 23:23

话说人家QQ用开源代码又怎么了？

莫等闲 23:23

就是刷流氓

杨一帆 23:23

小米

莫等闲 23:23

呵呵～国内不流氓，实在没法混

杨一帆 23:24

没法

莫等闲 23:24

你的centos主要是用作server吧？

莫等闲 23:24

那还好

杨一帆 23:25

对。懒得折腾

莫等闲 23:25

server谁管他界面？

杨一帆 23:25

哈哈 也是

莫等闲 23:25

我发现LMDE也非常稳定

莫等闲 23:25

好久好久都不出更新

莫等闲 23:26

他们拿着debian的testing packages好像自己好像在检测一遍

杨一帆 23:26

还不错。只要驱动好用就好

莫等闲 23:26

我主要是喜欢debian

莫等闲 23:27

怕那一天Ubuntu太商业化了

杨一帆 23:27

是不错。包管理很出色

莫等闲 23:28

是的，非常灵活，强大

莫等闲 23:29

不过说实话也折腾

杨一帆 23:30

一遍就可以了

杨一帆 23:30

哈哈

莫等闲 23:30

那更新呢？

莫等闲 23:30

或者安装新包

杨一帆 23:31

所以用centos

莫等闲 23:31

假如说混用不同源的包的话

杨一帆 23:31

debian upgrade还不如重装

莫等闲 23:32

我忍不了公司的电脑上的rename command

莫等闲 23:32

相比centos上也是那个及其丑陋的，功能过于简单的版本吧

莫等闲 23:33

debian upgrade我用这一直都很好啊

杨一帆 23:33

…

杨一帆 23:33

centos毕竟也是服务器版

莫等闲 23:33

还有很多要用的命令没有

杨一帆 23:33

unix吧

杨一帆 23:33

gnu的很多都没有或者不一样

莫等闲 23:34

不一样无所谓，没有就人不了

莫等闲 23:35

我只好用python去实现一些我想用的功能

杨一帆 23:35

好在python自带了不少

杨一帆 23:36

你要看perl那种古董上会更多，啥都有。不过是在折腾。

莫等闲 23:36

关键是unix/linux server默认安装python

杨一帆 23:36

python2.4 2.6

莫等闲 23:36

上次还有个人问我说你咋不会用perl

杨一帆 23:36

perl就是个古董

————— 2014-08-23 —————

莫等闲 23:36

我说我用python，实在想不出有什么理由去学perl

莫等闲 23:37

我也是这么跟他说的

杨一帆 23:37

除非你要去做正则

莫等闲 23:37

听说perl的正则是比较纯正

莫等闲 23:37

但是python的也能用啊

莫等闲 23:37

R也行的

莫等闲 23:38

是不是我用的都还太初级？

杨一帆 23:38

python明显好于r

莫等闲 23:38

R关键是个不合格的编程语言吧，

杨一帆 23:38

反正正则这种非人类语法不用也罢

莫等闲 23:38

做数据处理没有任何问题

杨一帆 23:39

那是sas。

莫等闲 23:39

哦，我倒是经常用正则表达式

莫等闲 23:39

SAS是我所有或的编程语言里里面最不能称为编程语言的

莫等闲 23:39

太坑了

杨一帆 23:39

r的 api还算齐全。好歹也像脚本语言。

杨一帆 23:39

sas就是个骗钱的玩意儿。

莫等闲 23:40

SAS的宏简直就是，恩，啊

莫等闲 23:40

不知如何形容

莫等闲 23:40

上次我面一个职位，写了一个SAS macro

莫等闲 23:41

被一个牛人（10 银行经验）挑了很多毛病

莫等闲 23:41

我说你妈，这在其他语言里面都不是问题

莫等闲 23:41

SAS就不是让你来编程玩的，你非要这么玩

莫等闲 23:41

不把人给玩残废了？

杨一帆 23:42

sas的macro没有类型检查，纯粹字替换

莫等闲 23:42

如果你想用宏返回代码或者数值，呵呵～

莫等闲 23:43

哦，对了。你是vim 还是emacs fan

杨一帆 23:43

iml吧

杨一帆 23:43

我啊 vim

莫等闲 23:43

iml不支持data frame吧/

杨一帆 23:43

emaca只用一个源于那个后来分道扬镳的：texmacs

莫等闲 23:44

至少几年前是不行的，现在不知道如何

杨一帆 23:44

iml支持和r和乱七八糟东西的通信

莫等闲 23:45

混合语言容易走火入魔

莫等闲 23:45

texmacs还不错

杨一帆 23:45

对的。

莫等闲 23:46

可惜不像lyx能够随机显示代码

莫等闲 23:46

lyx可惜又不是纯正的tex代码

莫等闲 23:46

vim 我用那个ultisnips

莫等闲 23:46

插件

杨一帆 23:46

texmacs到确实是

杨一帆 23:47

我用的比较多…

莫等闲 23:47

可是你不能随时显示tex代码吧

莫等闲 23:47

只能最后导出成为tex？

杨一帆 23:47

对

杨一帆 23:47

tex pdf html

杨一帆 23:47

等等

杨一帆 23:48

现在版本比以前好多了。也不要latex依赖了

莫等闲 23:48

我觉得texmacs要是想lyx一样wysiwyg 和 代码随时切换的话就无敌了

杨一帆 23:49

可以切换代码，但不是tex代码

莫等闲 23:49

对了，我现在基本上是用vim ultisnips来替代大部分IDE

莫等闲 23:50

ultisnips很好用，你可以试一试，如果没用过的话

杨一帆 23:50

你不做r代码是可以这么干的

杨一帆 23:50

r的vimcom简直就是噩梦

————— 2014-08-23 —————

莫等闲 23:50

r 也行啊

莫等闲 23:50

我不用其他的特制插件

莫等闲 23:51

就是自定义各种 trigger 和 autocomplete

杨一帆 23:51

哦，我要求要自动完成，提示和snap。所以搭配了好几个插件

杨一帆 23:51

tlist rplugin 还有些莫名奇妙的东西。

莫等闲 23:51

呵呵～发现我几种常用编程语言给统一起来了

莫等闲 23:52

所以我都是自定义的

杨一帆 23:52

我主要是r c py和sas…

杨一帆 23:52

ra干活实在没法

莫等闲 23:53

为此我还写了一个python代码，根据网上help doc自动生成ultisnips的配置

莫等闲 23:53

你这RA干的什么活儿？

莫等闲 23:53

不用C ？

杨一帆 23:53

不错啊～那其实emaca更适合你

杨一帆 23:54

c和c 都用了

莫等闲 23:54

Rcpp 配合 C 做运算和数据分析很不错

杨一帆 23:54

但是明显mac的xcode和我 i

杨一帆 23:54

win的 devc好的多

莫等闲 23:54

我忍不了emacs的各种快捷键

杨一帆 23:55

这也是我放弃的原因

杨一帆 23:55

太多了

莫等闲 23:55

vim的命令模式就有非常有逻辑

莫等闲 23:56

越用越觉得设计的牛

杨一帆 23:56

那是我们这么觉得的

莫等闲 23:57

我C 基本都是在vim里面写的

杨一帆 23:57

emacs的特点大约是可以自己折腾的宏更多

莫等闲 23:57

貌似KDE里买你的kdevelop挺不错

杨一帆 23:57

哦～主要我重度依赖doxygen

莫等闲 23:58

我在vim里面主要折腾 trigger 什么的

杨一帆 23:58

为了用那个。mac我自己编译出的kdevelop

莫等闲 23:58

宏定义多了，自己也记不住，

莫等闲 23:58

我特别喜欢用vim ultisnips 写tex

莫等闲 23:59

简直太爽了

杨一帆 23:59

你显然不可能有我用texmacs敲的快哈哈

莫等闲 23:59

完全规避了tex语法的繁琐

莫等闲 23:59

咱比敲公式


————— 2014-08-24 —————

莫等闲 00:00

我喜欢所有的东西都是text

杨一帆 00:00

主要我弄的复杂公式实在不适合…

莫等闲 00:01

自从我折腾了ultisnips顿时发觉神码tex IDE都是浮云

莫等闲 00:02

不过话说我很喜欢texstudio

莫等闲 00:02

如果一定要用 tex IDE的话

杨一帆 00:02

texmaker

莫等闲 00:03

texstudio好像就是texmaker的衍生

杨一帆 00:03

这样的？我由于跨平台，所以用的很多软件都是全平台的

莫等闲 00:04

我也是这样的

莫等闲 00:04

texstudio也是跨平台的

莫等闲 00:04

不过貌似还是Linux上最好用，尤其是preview功能

杨一帆 00:04

下次去试一下。我一直用着texmaker

莫等闲 00:04

类似与WYSIWYG

莫等闲 00:05

一不小心聊了好久

杨一帆 00:05

长得和texmaker差不多

杨一帆 00:05

哈哈

杨一帆 00:05

以后见面聊

莫等闲 00:05

是啊，就是texmaker的succesor

莫等闲 00:05

恩，好

莫等闲 00:06

跟你聊很有启发

杨一帆 00:06

我也很有启发啊

莫等闲 00:08

恩，以后多交流

杨一帆 00:09

对的对的

莫等闲 00:10

再写写东西就睡了，88

杨一帆 00:10

晚安
